<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TechBro Generator</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen w-full relative overflow-x-hidden">
  <!-- Radial Gradient Background from Bottom -->
  <div class="absolute inset-0 z-0" style="background: radial-gradient(125% 125% at 50% 90%, #fff 40%, #7c3aed 100%);"></div>

  <!-- Language Switcher -->
  <div class="fixed top-6 right-20 z-20">
    <select id="languageSelector" class="bg-white border border-gray-300 rounded-lg px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500">
      <option value="en">🇺🇸 English</option>
      <option value="zh">🇨🇳 中文</option>
      <option value="es">🇪🇸 Español</option>
      <option value="fr">🇫🇷 Français</option>
      <option value="de">🇩🇪 Deutsch</option>
      <option value="ja">🇯🇵 日本語</option>
      <option value="ko">🇰🇷 한국어</option>
      <option value="pt">🇵🇹 Português</option>
      <option value="ru">🇷🇺 Русский</option>
      <option value="it">🇮🇹 Italiano</option>
      <option value="ar">🇸🇦 العربية</option>
      <option value="hi">🇮🇳 हिंदी</option>
    </select>
  </div>

  <!-- GitHub Repository Link -->
  <a href="https://github.com/ifuryst/TechBroGen" target="_blank" rel="noopener noreferrer" class="fixed top-6 right-6 flex items-center gap-2 text-black text-lg font-bold z-20 hover:text-gray-600 transition-colors">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-8 h-8">
      <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
    </svg>
  </a>

  <!-- Main Content -->
  <div class="relative z-10 flex flex-col min-h-screen">
    <div class="flex-1 flex flex-col items-center justify-center">
      <div id="post" class="max-w-md w-full bg-black text-white rounded-lg p-6 shadow-lg mt-8">
        <div>
          <div class="flex items-center mb-4">
            <img id="avatar" class="w-12 h-12 rounded-full mr-3 border-2 border-yellow-400" alt="Avatar" src="/assets/profile.jpeg">
            <div>
              <span id="name" class="font-bold">BuildBro</span>
              <div id="handle" class="text-gray-400 text-sm">@launchLynx</div>
            </div>
          </div>
          <div id="postText" class="text-lg whitespace-pre-line">Just hit $1 MRR.
The journey from $0 to $1 is the hardest.
From $1 to $1M is just math.
#founderjourney #buildinpublic #SaaSgrind</div>
        </div>
      </div>
    </div>

    <div class="w-full flex flex-col items-center mb-8">
      <div class="mb-4 flex gap-6 text-white">
        <label class="flex items-center gap-2 text-gray-800 font-bold">
          <input type="checkbox" id="growthCheckbox" checked class="form-checkbox text-blue-500">
          GrowthMarketerBro
        </label>
        <label class="flex items-center gap-2 text-gray-800 font-bold">
          <input type="checkbox" id="aiCheckbox" checked class="form-checkbox text-blue-500">
          AIBro
        </label>
        <label class="flex items-center gap-2 text-gray-800 font-bold">
          <input type="checkbox" id="saasCheckbox" checked class="form-checkbox text-blue-500">
          SaaSBro
        </label>
      </div>

      <div class="flex gap-4">
        <button id="generateBtn" class="px-8 py-4 text-2xl bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:opacity-50">
          <span id="generateText">Generate a TechBro</span>
          <span id="loadingSpinner" class="hidden">Generating...</span>
        </button>
        <button id="shareBtn" class="px-8 py-4 text-2xl bg-black text-white rounded-xl border-2 transition-colors">Share this gem on X</button>
      </div>
    </div>

    <!-- Original Creator -->
    <div class="fixed bottom-16 left-6 flex flex-col gap-1 text-black text-lg font-bold z-20">
      <div class="text-sm font-normal">Shoutout to the OG builder 🙏</div>
      <a href="https://x.com/eswordert" target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 hover:text-blue-600 transition-colors">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" fill="currentColor" class="w-6 h-6">
          <path d="M32.29 7.71a1 1 0 0 0-1.42 0L20 18.59 9.13 7.71A1 1 0 0 0 7.71 9.13L18.59 20 7.71 30.87a1 1 0 1 0 1.42 1.42L20 21.41l10.87 10.88a1 1 0 0 0 1.42-1.42L21.41 20l10.88-10.87a1 1 0 0 0 0-1.42z"></path>
        </svg>
        @eswordert
      </a>
      <a href="https://techbrogenerator.netlify.app/" target="_blank" rel="noopener noreferrer" class="text-sm font-normal hover:text-blue-600 transition-colors">
        Original TechBro Generator ↗
      </a>
    </div>


    <!-- My Twitter -->
    <a href="https://x.com/leoinbeta" target="_blank" rel="noopener noreferrer" class="fixed bottom-6 left-6 flex items-center gap-2 text-black text-lg font-bold z-20 hover:text-blue-600 transition-colors">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" fill="currentColor" class="w-6 h-6">
        <path d="M32.29 7.71a1 1 0 0 0-1.42 0L20 18.59 9.13 7.71A1 1 0 0 0 7.71 9.13L18.59 20 7.71 30.87a1 1 0 1 0 1.42 1.42L20 21.41l10.87 10.88a1 1 0 0 0 1.42-1.42L21.41 20l10.88-10.87a1 1 0 0 0 0-1.42z"></path>
      </svg>
      @leoinbeta
    </a>

    <!-- I'm feeling offended -->
    <a href="#" id="offendedLink" class="fixed bottom-6 right-6 flex items-center gap-2 text-black text-2xl font-bold z-20 hover:text-red-600 transition-colors">
      I'm feeling offended
    </a>

    <!-- Offended Modal -->
    <div id="offendedModal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 hidden">
      <div class="bg-white rounded-xl shadow-lg p-8 max-w-md w-full text-center relative">
        <button id="closeOffendedModal" class="absolute top-2 right-2 text-gray-400 hover:text-gray-700 text-2xl font-bold">×</button>
        <h2 class="text-2xl font-bold mb-4 text-red-600">Oh no! 😳</h2>
        <p class="mb-6 text-gray-800">Sorry if this offended you.<br><br>Purpose of this project is to have fun and also to highlight the TechBro culture on social media. TechBro Generator encourages people to be creative and to be themselves, rather than copying others.<br><br>Feel free to close this message and generate another post!</p>
        <button id="closeOffendedModal2" class="mt-2 px-6 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Close</button>
      </div>
    </div>
  </div>

  <script>
    const API_BASE = window.location.origin;
    
    // Language translations
    const translations = {
      en: {
        generateBtn: "Generate a TechBro",
        shareBtn: "Share this gem on X",
        growthLabel: "GrowthMarketerBro",
        aiLabel: "AIBro",
        saasLabel: "SaaSBro",
        offendedText: "I'm feeling offended",
        loadingText: "Generating...",
        alertText: "Please select at least one category!",
        errorText: "Failed to generate post. Please try again.",
        modalTitle: "Oh no! 😳",
        modalText: "Sorry if this offended you.<br><br>Purpose of this project is to have fun and also to highlight the TechBro culture on social media. TechBro Generator encourages people to be creative and to be themselves, rather than copying others.<br><br>Feel free to close this message and generate another post!",
        modalCloseBtn: "Close",
        originalCredit: "Shoutout to the OG builder 🙏",
        originalLink: "Original TechBro Generator ↗"
      },
      zh: {
        generateBtn: "生成技术大佬",
        shareBtn: "分享到 X",
        growthLabel: "增长营销大佬",
        aiLabel: "AI大佬",
        saasLabel: "SaaS大佬",
        offendedText: "我感到被冒犯了",
        loadingText: "正在生成...",
        alertText: "请至少选择一个类别！",
        errorText: "生成帖子失败，请重试。",
        modalTitle: "哦不！😳",
        modalText: "如果这冒犯了你，我很抱歉。<br><br>这个项目的目的是为了好玩，也为了突出社交媒体上的技术大佬文化。技术大佬生成器鼓励人们保持创造力，做自己，而不是模仿他人。<br><br>随时关闭此消息并生成另一篇帖子！",
        modalCloseBtn: "关闭",
        originalCredit: "向原创建者致敬 🙏",
        originalLink: "原版技术大佬生成器 ↗"
      },
      es: {
        generateBtn: "Generar TechBro",
        shareBtn: "Compartir en X",
        growthLabel: "GrowthMarketerBro",
        aiLabel: "AIBro",
        saasLabel: "SaaSBro",
        offendedText: "Me siento ofendido",
        loadingText: "Generando...",
        alertText: "¡Por favor selecciona al menos una categoría!",
        errorText: "No se pudo generar el post. Inténtalo de nuevo.",
        modalTitle: "¡Oh no! 😳",
        modalText: "Lo siento si esto te ofendió.<br><br>El propósito de este proyecto es divertirse y también destacar la cultura TechBro en las redes sociales. TechBro Generator alienta a las personas a ser creativas y a ser ellas mismas, en lugar de copiar a otros.<br><br>¡Cierra este mensaje y genera otro post!",
        modalCloseBtn: "Cerrar",
        originalCredit: "Reconocimiento al creador original 🙏",
        originalLink: "Generador TechBro Original ↗"
      },
      fr: {
        generateBtn: "Générer un TechBro",
        shareBtn: "Partager sur X",
        growthLabel: "GrowthMarketerBro",
        aiLabel: "AIBro",
        saasLabel: "SaaSBro",
        offendedText: "Je me sens offensé",
        loadingText: "Génération...",
        alertText: "Veuillez sélectionner au moins une catégorie !",
        errorText: "Échec de la génération du post. Veuillez réessayer.",
        modalTitle: "Oh non ! 😳",
        modalText: "Désolé si cela vous a offensé.<br><br>Le but de ce projet est de s'amuser et aussi de mettre en évidence la culture TechBro sur les réseaux sociaux. TechBro Generator encourage les gens à être créatifs et à être eux-mêmes, plutôt que de copier les autres.<br><br>N'hésitez pas à fermer ce message et à générer un autre post !",
        modalCloseBtn: "Fermer",
        originalCredit: "Salut au créateur original 🙏",
        originalLink: "Générateur TechBro Original ↗"
      },
      de: {
        generateBtn: "TechBro generieren",
        shareBtn: "Auf X teilen",
        growthLabel: "GrowthMarketerBro",
        aiLabel: "AIBro",
        saasLabel: "SaaSBro",
        offendedText: "Ich fühle mich beleidigt",
        loadingText: "Generiere...",
        alertText: "Bitte wähle mindestens eine Kategorie aus!",
        errorText: "Post konnte nicht generiert werden. Bitte versuche es erneut.",
        modalTitle: "Oh nein! 😳",
        modalText: "Entschuldigung, falls das beleidigend war.<br><br>Der Zweck dieses Projekts ist es, Spaß zu haben und auch die TechBro-Kultur in den sozialen Medien hervorzuheben. TechBro Generator ermutigt Menschen, kreativ zu sein und sie selbst zu sein, anstatt andere zu kopieren.<br><br>Schließe diese Nachricht und generiere einen neuen Post!",
        modalCloseBtn: "Schließen",
        originalCredit: "Anerkennung an den ursprünglichen Ersteller 🙏",
        originalLink: "Original TechBro Generator ↗"
      },
      ja: {
        generateBtn: "テックブロを生成",
        shareBtn: "Xでシェア",
        growthLabel: "グロースマーケターブロ",
        aiLabel: "AIブロ",
        saasLabel: "SaaSブロ",
        offendedText: "気分を害しています",
        loadingText: "生成中...",
        alertText: "少なくとも1つのカテゴリーを選択してください！",
        errorText: "投稿の生成に失敗しました。もう一度お試しください。",
        modalTitle: "あら！😳",
        modalText: "気分を害してしまい申し訳ありません。<br><br>このプロジェクトの目的は楽しむことと、ソーシャルメディアのテックブロ文化を強調することです。テックブロジェネレーターは、他人をコピーするのではなく、創造的で自分らしくあることを奨励します。<br><br>このメッセージを閉じて別の投稿を生成してください！",
        modalCloseBtn: "閉じる",
        originalCredit: "オリジナル作成者に感謝 🙏",
        originalLink: "オリジナルテックブロジェネレーター ↗"
      },
      ko: {
        generateBtn: "테크브로 생성",
        shareBtn: "X에 공유",
        growthLabel: "그로스마케터브로",
        aiLabel: "AI브로",
        saasLabel: "SaaS브로",
        offendedText: "기분이 상했습니다",
        loadingText: "생성 중...",
        alertText: "최소 하나의 카테고리를 선택해주세요!",
        errorText: "포스트 생성에 실패했습니다. 다시 시도해주세요.",
        modalTitle: "앗! 😳",
        modalText: "기분을 상하게 해서 죄송합니다.<br><br>이 프로젝트의 목적은 재미를 위한 것이며 소셜 미디어의 테크브로 문화를 강조하는 것입니다. 테크브로 제너레이터는 사람들이 다른 사람을 복사하기보다는 창의적이고 자기 자신이 되도록 격려합니다.<br><br>이 메시지를 닫고 다른 포스트를 생성해보세요!",
        modalCloseBtn: "닫기",
        originalCredit: "오리지널 제작자에게 경의를 🙏",
        originalLink: "오리지널 테크브로 제너레이터 ↗"
      },
      pt: {
        generateBtn: "Gerar TechBro",
        shareBtn: "Compartilhar no X",
        growthLabel: "GrowthMarketerBro",
        aiLabel: "AIBro",
        saasLabel: "SaaSBro",
        offendedText: "Estou me sentindo ofendido",
        loadingText: "Gerando...",
        alertText: "Por favor, selecione pelo menos uma categoria!",
        errorText: "Falha ao gerar post. Tente novamente.",
        modalTitle: "Oh não! 😳",
        modalText: "Desculpe se isso te ofendeu.<br><br>O propósito deste projeto é se divertir e também destacar a cultura TechBro nas redes sociais. TechBro Generator encoraja as pessoas a serem criativas e a serem elas mesmas, em vez de copiar os outros.<br><br>Sinta-se à vontade para fechar esta mensagem e gerar outro post!",
        modalCloseBtn: "Fechar",
        originalCredit: "Reconhecimento ao criador original 🙏",
        originalLink: "Gerador TechBro Original ↗"
      },
      ru: {
        generateBtn: "Создать ТехБро",
        shareBtn: "Поделиться в X",
        growthLabel: "ГроусМаркетерБро",
        aiLabel: "ИИБро",
        saasLabel: "SaaSБро",
        offendedText: "Я чувствую себя оскорбленным",
        loadingText: "Создание...",
        alertText: "Пожалуйста, выберите хотя бы одну категорию!",
        errorText: "Не удалось создать пост. Попробуйте еще раз.",
        modalTitle: "О нет! 😳",
        modalText: "Извините, если это вас оскорбило.<br><br>Цель этого проекта - развлечься, а также подчеркнуть культуру ТехБро в социальных сетях. ТехБро Генератор призывает людей быть креативными и быть самими собой, а не копировать других.<br><br>Закройте это сообщение и создайте другой пост!",
        modalCloseBtn: "Закрыть",
        originalCredit: "Признание оригинальному создателю 🙏",
        originalLink: "Оригинальный ТехБро Генератор ↗"
      },
      it: {
        generateBtn: "Genera TechBro",
        shareBtn: "Condividi su X",
        growthLabel: "GrowthMarketerBro",
        aiLabel: "AIBro",
        saasLabel: "SaaSBro",
        offendedText: "Mi sento offeso",
        loadingText: "Generazione...",
        alertText: "Seleziona almeno una categoria!",
        errorText: "Impossibile generare il post. Riprova.",
        modalTitle: "Oh no! 😳",
        modalText: "Scusa se questo ti ha offeso.<br><br>Lo scopo di questo progetto è divertirsi e anche evidenziare la cultura TechBro sui social media. TechBro Generator incoraggia le persone a essere creative e a essere se stesse, piuttosto che copiare gli altri.<br><br>Chiudi questo messaggio e genera un altro post!",
        modalCloseBtn: "Chiudi",
        originalCredit: "Riconoscimento al creatore originale 🙏",
        originalLink: "Generatore TechBro Originale ↗"
      },
      ar: {
        generateBtn: "إنشاء تيك برو",
        shareBtn: "مشاركة في X",
        growthLabel: "جروث ماركيتر برو",
        aiLabel: "إيه آي برو",
        saasLabel: "ساس برو",
        offendedText: "أشعر بالإهانة",
        loadingText: "جاري الإنشاء...",
        alertText: "يرجى تحديد فئة واحدة على الأقل!",
        errorText: "فشل في إنشاء المنشور. يرجى المحاولة مرة أخرى.",
        modalTitle: "يا لا! 😳",
        modalText: "آسف إذا كان هذا مسيئاً لك.<br><br>الغرض من هذا المشروع هو الاستمتاع وأيضاً تسليط الضوء على ثقافة التيك برو في وسائل التواصل الاجتماعي. مولد التيك برو يشجع الناس على أن يكونوا مبدعين وأن يكونوا أنفسهم، بدلاً من تقليد الآخرين.<br><br>اغلق هذه الرسالة وولد منشوراً آخر!",
        modalCloseBtn: "إغلاق",
        originalCredit: "تقدير للمبدع الأصلي 🙏",
        originalLink: "مولد التيك برو الأصلي ↗"
      },
      hi: {
        generateBtn: "टेकब्रो जेनरेट करें",
        shareBtn: "X पर शेयर करें",
        growthLabel: "ग्रोथमार्केटरब्रो",
        aiLabel: "एआईब्रो",
        saasLabel: "सासब्रो",
        offendedText: "मुझे अपमानित महसूस हो रहा है",
        loadingText: "जेनरेट कर रहे हैं...",
        alertText: "कृपया कम से कम एक कैटेगरी चुनें!",
        errorText: "पोस्ट जेनरेट करने में विफल। कृपया फिर से कोशिश करें।",
        modalTitle: "अरे नहीं! 😳",
        modalText: "खुशी अगर इससे आपको अपमानित महसूस हुआ है।<br><br>इस प्रोजेक्ट का उद्देश्य मज़े करना है और सोशल मीडिया पर टेकब्रो कल्चर को हाइलाइट करना है। टेकब्रो जेनरेटर लोगों को रचनात्मक होने और खुद बनने के लिए प्रेरित करता है, दूसरों की नकल करने के बजाय।<br><br>इस संदेश को बंद करें और दूसरा पोस्ट जेनरेट करें!",
        modalCloseBtn: "बंद करें",
        originalCredit: "मूल निर्माता को सम्मान 🙏",
        originalLink: "मूल टेकब्रो जेनरेटर ↗"
      }
    };
    
    let currentLanguage = localStorage.getItem('language') || 'en';

    function updateUILanguage() {
      const lang = translations[currentLanguage];
      
      // Update buttons
      document.getElementById('generateText').textContent = lang.generateBtn;
      document.getElementById('shareBtn').textContent = lang.shareBtn;
      
      // Update labels
      document.querySelector('label[for="growthCheckbox"]').childNodes[2].textContent = lang.growthLabel;
      document.querySelector('label[for="aiCheckbox"]').childNodes[2].textContent = lang.aiLabel;
      document.querySelector('label[for="saasCheckbox"]').childNodes[2].textContent = lang.saasLabel;
      
      // Update other text elements
      document.getElementById('offendedLink').textContent = lang.offendedText;
      document.querySelector('.modal h2').innerHTML = lang.modalTitle;
      document.querySelector('.modal p').innerHTML = lang.modalText;
      document.getElementById('closeOffendedModal2').textContent = lang.modalCloseBtn;
      
      // Update credits
      document.querySelector('.fixed.bottom-16 .text-sm').textContent = lang.originalCredit;
      document.querySelector('.fixed.bottom-16 a:last-child').textContent = lang.originalLink;
    }

    function changeLanguage(lang) {
      currentLanguage = lang;
      localStorage.setItem('language', lang);
      updateUILanguage();
    }

    function getSelectedCategories() {
      const categories = [];
      if (document.getElementById('growthCheckbox').checked) categories.push('growth');
      if (document.getElementById('aiCheckbox').checked) categories.push('ai');
      if (document.getElementById('saasCheckbox').checked) categories.push('saas');
      return categories;
    }

    async function generateProfile() {
      const categories = getSelectedCategories();

      if (categories.length === 0) {
        alert(translations[currentLanguage].alertText);
        return;
      }

      // Show loading state
      const generateBtn = document.getElementById('generateBtn');
      const generateText = document.getElementById('generateText');
      const loadingSpinner = document.getElementById('loadingSpinner');

      generateBtn.disabled = true;
      generateText.classList.add('hidden');
      loadingSpinner.classList.remove('hidden');
      loadingSpinner.textContent = translations[currentLanguage].loadingText;

      try {
        const response = await fetch(`${API_BASE}/api/generate`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ categories, language: currentLanguage })
        });

        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }

        const data = await response.json();

        // Update the UI with the generated data
        document.getElementById('name').textContent = data.name;
        document.getElementById('handle').textContent = data.handle;
        document.getElementById('avatar').src = data.avatar;
        document.getElementById('postText').textContent = data.postText;

      } catch (error) {
        console.error('Error generating post:', error);
        alert(translations[currentLanguage].errorText);
      } finally {
        // Hide loading state
        generateBtn.disabled = false;
        generateText.classList.remove('hidden');
        loadingSpinner.classList.add('hidden');
      }
    }

    function sharePost() {
      const postText = document.getElementById('postText').textContent;
      const url = `https://x.com/intent/tweet?text=${encodeURIComponent(postText)}`;
      window.open(url, '_blank');
    }

    // Event listeners
    document.getElementById('generateBtn').addEventListener('click', generateProfile);
    document.getElementById('shareBtn').addEventListener('click', sharePost);
    
    // Language selector event listener
    document.getElementById('languageSelector').addEventListener('change', function(e) {
      changeLanguage(e.target.value);
    });

    // Ensure at least one checkbox is always checked
    const checkboxes = [
      document.getElementById('growthCheckbox'),
      document.getElementById('aiCheckbox'),
      document.getElementById('saasCheckbox')
    ];

    checkboxes.forEach(checkbox => {
      checkbox.addEventListener('change', function(e) {
        const checkedCount = checkboxes.filter(cb => cb.checked).length;
        if (checkedCount === 0) {
          // Prevent unchecking the last checked box
          e.target.checked = true;
        }
      });
    });

    // Offended Modal logic
    const offendedLink = document.getElementById('offendedLink');
    const offendedModal = document.getElementById('offendedModal');
    const closeOffendedModal = document.getElementById('closeOffendedModal');
    const closeOffendedModal2 = document.getElementById('closeOffendedModal2');

    offendedLink.addEventListener('click', function(e) {
      e.preventDefault();
      offendedModal.classList.remove('hidden');
    });

    closeOffendedModal.addEventListener('click', function() {
      offendedModal.classList.add('hidden');
    });

    closeOffendedModal2.addEventListener('click', function() {
      offendedModal.classList.add('hidden');
    });

    // Initialize language on page load
    window.addEventListener('DOMContentLoaded', function() {
      document.getElementById('languageSelector').value = currentLanguage;
      updateUILanguage();
    });
  </script>
</body>
</html>